import{E as R,d as _,o as a,y as u,G as w,g as T,u as t,c as p,a as s,e as b,C as g,H as $,_ as j,r as k,h as S,I,B as U,J as E,f as c,K as C,L as D,t as O,n as z,A as h,M as F,l as G,R as J}from"./index-Cbi0U6DV.js";import{a as M,s as H}from"./auth.service-DhrNQ524.js";import{c as B}from"./vue-query.util-lOWJ5HDm.js";import{_ as P}from"./DialogComponent-B60xUe9I.js";import{_ as v,a as K,b as Q,c as W,d as X}from"./Icon-CKJzfIt9.js";import{c as Y}from"./datetime.util-Dpk3AL1b.js";import{O as Z,b as ee,_ as L}from"./Button-CUE8qzFr.js";import"./error-input-BGMKAoGp.js";import"./icon-back-D1amKHfi.js";const te={__name:"DropdownMenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1},class:{type:null,required:!1},inset:{type:Boolean,required:!1}},setup(o){const r=o,n=R(()=>{const{class:i,...f}=r;return f}),d=Z(n);return(i,f)=>(a(),_(t(ee),T(t(d),{class:t(B)("px-2 py-1.5 text-sm font-semibold",o.inset&&"pl-8",r.class)}),{default:u(()=>[w(i.$slots,"default")]),_:3},16,["class"]))}},se={key:0,class:"ml-4 text-lg text-inherit"},oe={__name:"NavSideItem",props:{icon:{type:String,required:!1},to:{type:String,required:!0},title:{type:String,required:!1},isShowSidebar:{type:Boolean,required:!1}},setup(o){return(r,n)=>(a(),p("li",null,[s(t($),{to:o.to,class:"w-full text-primary h-[46px] flex items-center pl-4 transition group rounded-[8px] hover:bg-border",activeClass:"!bg-destructive !text-background "},{default:u(()=>[w(r.$slots,"icon",{},()=>[s(v,{icon:o.icon,size:24,class:"text-inherit grow-0 shrink-0 basis-24px group-hover:text-gray-900 transition duration-25"},null,8,["icon"])]),o.isShowSidebar?(a(),p("span",se,g(o.title),1)):b("",!0)]),_:3},8,["to"])]))}},ae={class:"bg-background z-99 h-screen flex flex-col flex-shrink-0 flex-col transition border-r border-secondary-foreground","aria-label":"Sidebar"},ne={class:"relative flex-1 flex flex-col min-h-0 overflow-y-auto overflow-x-hidden"},le={key:1,class:"flex flex-col justify-between items-center w-[71px] py-[18px] px-5 gap-6 mb-2"},re={class:"px-2"},ie={key:0,class:"ml-4 text-primary text-lg"},ue={__name:"NavSide",setup(o){const r=O(),n=k(!0),d=k(!1),{logout:i}=S(),{permissions:f,isSuperAdmin:m}=I(S()),{mutateAsync:q}=M.logout();U(()=>{document.body.classList.remove("no-scroll")});const V=R(()=>{if(f!=null&&f.value){const x=[],l=E.filter(e=>e.main)[0].children;for(let e=0;e<l.length;e++)(l[e].displayOnSidebar||l[e].path==="/")&&x.push(l[e]);return x}return{}});async function A(){H(),i(),q(),d.value=!1,r.push({path:"/user/login"})}return(x,l)=>(a(),p(C,null,[c("aside",ae,[c("div",ne,[n.value?(a(),_(t($),{key:0,to:"/",class:"flex justify-between items-center w-[223px] py-[18px] px-5"},{default:u(()=>[s(v,{icon:"vertex-logo",class:"cursor-pointer grow-0 shrink-0 basis-28px group-hover:text-gray-900 transition duration-25",size:30}),l[5]||(l[5]=c("p",{class:"uppercase text-2xl font-semibold"},"Taskify",-1)),s(v,{icon:"closeMenu",class:"cursor-pointer grow-0 shrink-0 basis-24px group-hover:text-gray-900 transition duration-25",size:24,onClick:l[0]||(l[0]=e=>n.value=!1)})]),_:1})):(a(),p("div",le,[s(v,{icon:"vertex-logo",class:"cursor-pointer grow-0 shrink-0 basis-28px group-hover:text-gray-900 transition duration-25",size:30}),s(v,{icon:"openMenu",class:"cursor-pointer grow-0 shrink-0 basis-24px group-hover:text-gray-900 transition duration-25",size:24,onClick:l[1]||(l[1]=e=>n.value=!0)})])),c("ul",re,[(a(!0),p(C,null,D(V.value,e=>(a(),_(oe,{key:e.name,title:e.displayName,icon:e.icon,to:e.path,"is-show-sidebar":n.value},null,8,["title","icon","to","is-show-sidebar"]))),128))])]),c("div",{class:"h-[46px] flex items-center m-2 px-4 cursor-pointer overflow-y-auto overflow-x-hidden",onClick:l[2]||(l[2]=e=>d.value=!0)},[s(v,{icon:"log-out",size:24}),n.value?(a(),p("p",ie,"Log out")):b("",!0)])]),s(P,{title:"Log out",description:"Are you sure you want to log out?",onCancel:l[3]||(l[3]=e=>d.value=!1),onConfirm:A,modelValue:d.value,"onUpdate:modelValue":l[4]||(l[4]=e=>d.value=e)},null,8,["modelValue"])],64))}},ce=j(ue,[["__scopeId","data-v-5451e134"]]),de={__name:"DropdownComponent",props:{placeholder:{type:String,required:!1},label:{type:String,required:!1},options:{type:Array,required:!1},contentClass:{type:String,required:!1},itemClass:{type:String,required:!1},seperator:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(o,{emit:r}){const n=r,d=i=>{n("update:modelValue",i)};return(i,f)=>(a(),_(t(X),null,{default:u(()=>[s(t(K),null,{default:u(()=>[w(i.$slots,"trigger")]),_:3}),s(t(Q),{class:z(t(B)("w-full",o.contentClass))},{default:u(()=>[o.label?(a(),_(t(te),{key:0},{default:u(()=>[h(g(o.label),1)]),_:1})):b("",!0),(a(!0),p(C,null,D(o.options,m=>(a(),_(t(W),{key:m.id,value:m.value,class:z(t(B)("h-12",o.itemClass)),onClick:()=>d(m)},{default:u(()=>[s(v,{icon:m.icon,size:24,class:"mr-4"},null,8,["icon"]),h(" "+g(m.label),1)]),_:2},1032,["value","class","onClick"]))),128)),w(i.$slots,"default")]),_:3},8,["class"])]),_:3}))}},pe={class:"w-100 truncate h-12 flex justify-end items-center gap-4"},fe={class:"p-4"},me={class:"mb-3 font-bold truncate leading-6"},ge={key:0,class:"mb-3"},ve={__name:"NavUser",props:{user:{type:Object,required:!1},isSuperAdmin:{type:Boolean,required:!1}},setup(o){var x;const{t:r}=F(),{currentUser:n}=I(S()),{logout:d}=S(),i=k(!1),f=k(Y((x=n==null?void 0:n.value)==null?void 0:x.login_at)),m=O(),q=G(),{mutateAsync:V}=M.logout(),A=()=>{H(),d(),V(),i.value=!1,m.push({path:"/user/login"})};return(l,e)=>(a(),p(C,null,[s(de,{contentClass:"w-[320px]"},{trigger:u(()=>[c("div",pe,[s(v,{icon:"avatar",size:26,class:"transition ease-in-out delay-100 hover:-translate-y-1 hover:scale-110 duration-300"})])]),default:u(()=>{var y,N;return[c("div",fe,[e[3]||(e[3]=c("p",{class:"mb-3"},"Hi",-1)),c("p",me,g(((y=t(n))==null?void 0:y.usernam)??((N=t(n))==null?void 0:N.user_email.split("@")[0])),1),f.value>1?(a(),p("p",ge,"It's been "+g(f.value)+" days since you last logged in",1)):b("",!0),c("div",{class:z(["flex gap-3",o.isSuperAdmin?"":"justify-center"])},[t(q).path=="/"&&o.isSuperAdmin?(a(),_(t($),{key:0,to:"/admin"},{default:u(()=>[s(t(L),{variant:"landing"},{default:u(()=>[h(g(t(r)("nav.admin")),1)]),_:1})]),_:1})):o.isSuperAdmin?(a(),_(t($),{key:1,to:"/"},{default:u(()=>[s(t(L),{variant:"landing"},{default:u(()=>[h(g(t(r)("nav.landing")),1)]),_:1})]),_:1})):b("",!0),s(t(L),{variant:"outline",onClick:e[0]||(e[0]=$e=>i.value=!0)},{default:u(()=>[h(g(t(r)("nav.logout")),1)]),_:1})],2)])]}),_:1}),s(P,{modelValue:i.value,"onUpdate:modelValue":e[1]||(e[1]=y=>i.value=y),title:t(r)("nav.logout"),description:t(r)("nav.confirm"),onCancel:e[2]||(e[2]=y=>i.value=!1),onConfirm:A},null,8,["modelValue","title","description"])],64))}},_e={class:"flex justify-end items-center h-16 py-5 px-8 border-b border-secondary-foreground"},xe={__name:"NavHeader",setup(o){return(r,n)=>(a(),p("div",_e,[s(ve)]))}},ye={class:"w-full flex flex-row"},he={class:"w-full h-[100vh] overflow-auto"},be={class:"w-full px-8"},we={__name:"index",setup(o){return(r,n)=>(a(),p("div",ye,[c("div",null,[s(ce)]),c("div",he,[s(xe),c("div",be,[s(t(J))])])]))}},Ne=j(we,[["__scopeId","data-v-bbe54aab"]]);export{Ne as default};
